<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TDS å°ˆæ¥­è»Šé«”ç¾å®¹é ç´„ç³»çµ±</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: '#ffffff',
                    }
                }
            }
        }
    </script>
    
    <style>
        body { background-color: #121212; color: white; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ğŸ”¥ é—œéµä¿®å¾©ï¼šå¼·åˆ¶ç€è¦½å™¨è¡¨å–®å…ƒä»¶ä½¿ç”¨æ·±è‰²æ¨¡å¼ */
        :root {
            color-scheme: dark; 
        }

        /* è®“æ—¥æœŸé¸æ“‡å™¨çš„å°åœ–ç¤ºè®Šæˆç™½è‰²ï¼Œæ¸…æ¥šå¯è¦‹ */
        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(1);
            opacity: 0.8;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const Logo = () => (
            <div className="flex justify-center mb-8">
                <div className="w-32 h-32 rounded-full border-2 border-white/30 shadow-[0_0_20px_rgba(255,255,255,0.15)] flex items-center justify-center bg-black overflow-hidden">
                     <img src="TDS Logo.jpg" alt="TDS" className="w-full h-full object-cover" onError={(e) => {e.target.style.display='none'; e.target.parentElement.innerText='TDS Logo'}} />
                </div>
            </div>
        );

        function TDSBookingSystem() {
            const [step, setStep] = useState(1);
            const [formData, setFormData] = useState({
                serviceType: [],
                addons: [],
                carType: '',
                date: '',
                time: '',
                name: ''
            });

            const services = [
                { id: 'wash', name: 'ç²¾ç·»æ´—è»Š', icon: 'ğŸ’§', desc: 'åŸºç¤å¤–è§€èˆ‡å…§è£æ¸…æ½”' },
                { id: 'coating', name: 'å°ˆæ¥­éè†œ', icon: 'ğŸ›¡ï¸', desc: 'æ¼†é¢ä¿è­·èˆ‡å¢è‰·' },
                { id: 'leather', name: 'çš®é©ä¿é¤Š', icon: 'âœ¨', desc: 'å…§è£æ»‹æ½¤èˆ‡ä¿®å¾©' },
                { id: 'deep_clean', name: 'æ·±åº¦æ¸…æ½”', icon: 'ğŸ’¨', desc: 'é™¤ç•°å‘³ã€è’¸æ°£æ®ºèŒ' },
            ];

            const addons = [
                { id: 'ac_clean', name: 'å†·æ°£ç®¡è·¯æ¸…æ½”' },
                { id: 'wiper', name: 'é›¨åˆ·æ›´æ›' },
                { id: 'coating_maintain', name: 'éè†œå®šæœŸç¶­è­·' },
            ];

            const carTypes = ['å°å‹æˆ¿è»Š (Sedan)', 'ä¼‘æ—…è»Š (SUV)', 'è·‘è»Š (Coupe)', 'å¤§å‹ä¼‘æ—…/MPV', 'æ©Ÿè»Š (Motorcycle)'];

            // â° ç”¢ç”Ÿ 10:00 - 20:00 çš„æ•´é»æ™‚æ®µ
            const generateTimeSlots = () => {
                const slots = [];
                for (let i = 10; i <= 20; i++) {
                    slots.push(`${i}:00`);
                }
                return slots;
            };
            const timeSlots = generateTimeSlots();

            const toggleSelection = (category, item) => {
                setFormData(prev => {
                    const list = prev[category];
                    if (list.includes(item)) {
                        return { ...prev, [category]: list.filter(i => i !== item) };
                    }
                    return { ...prev, [category]: [...list, item] };
                });
            };

            const handleNext = () => setStep(prev => prev + 1);
            const handleBack = () => setStep(prev => prev - 1);

            const handleLineSubmit = () => {
                const message = `
ã€TDS é ç´„è«®è©¢å–®ã€‘
ğŸ‘¤ é¡§å®¢ï¼š${formData.name || 'æœªå¡«å¯«'}
ğŸš— è»Šå‹ï¼š${formData.carType}
ğŸ“… æ—¥æœŸï¼š${formData.date}
â° æ™‚é–“ï¼š${formData.time}
ğŸ›  æœå‹™é …ç›®ï¼š${formData.serviceType.join(', ')}
â• é™„åŠ æœå‹™ï¼š${formData.addons.length > 0 ? formData.addons.join(', ') : 'ç„¡'}
-----------------------
è«‹å•æ­¤æ™‚æ®µæ˜¯å¦å¯ä»¥é ç´„ï¼Ÿ
                `.trim();

                navigator.clipboard.writeText(message).then(() => {
                    alert("âœ… é ç´„è³‡è¨Šå·²è¤‡è£½ï¼\nå³å°‡ç‚ºæ‚¨é–‹å•Ÿ LINEï¼Œè«‹ç›´æ¥ã€Œè²¼ä¸Šã€ç™¼é€å³å¯ã€‚");
                    window.location.href = "https://line.me/ti/p/@794xqwdg";
                });
            };

            return (
                <div className="min-h-screen bg-[#121212] text-white font-sans selection:bg-white selection:text-black pb-10">
                    <div className="max-w-2xl mx-auto px-6 py-12">
                        
                        <Logo />
                        <div className="text-center mb-10">
                            <h1 className="text-3xl font-bold tracking-wider mb-2 text-white">TDS (The Detail Studio)</h1>
                            <p className="text-gray-300 text-sm tracking-widest uppercase font-medium">å°ˆæ¥­è»Šé«”ç¾å®¹ãƒ»éè†œè«®è©¢</p>
                        </div>

                        {/* é€²åº¦æ¢ */}
                        <div className="flex justify-between mb-10 relative px-4">
                            <div className="absolute top-1/2 left-4 right-4 h-0.5 bg-gray-700 -z-10"></div>
                            {[1, 2, 3].map((s) => (
                                <div key={s} className={`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 border-2 ${step >= s ? 'bg-white text-black border-white scale-110' : 'bg-[#121212] text-gray-400 border-gray-600'}`}>
                                    {s}
                                </div>
                            ))}
                        </div>

                        {/* Step 1 */}
                        {step === 1 && (
                            <div className="space-y-6 fade-in">
                                <h2 className="text-xl font-bold border-l-4 border-white pl-4 text-white">é¸æ“‡æœå‹™é …ç›® (å¯è¤‡é¸)</h2>
                                
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    {services.map((service) => (
                                        <div 
                                            key={service.id}
                                            onClick={() => toggleSelection('serviceType', service.name)}
                                            className={`p-5 rounded-xl border-2 cursor-pointer transition-all duration-200 flex items-center gap-4 group
                                                ${formData.serviceType.includes(service.name) 
                                                    ? 'border-white bg-white/10 shadow-[0_0_15px_rgba(255,255,255,0.15)]' 
                                                    : 'border-gray-600 hover:border-gray-400 bg-[#1e1e1e]'}`}
                                        >
                                            <div className="text-3xl">{service.icon}</div>
                                            <div>
                                                <h3 className="font-bold text-lg text-white">{service.name}</h3>
                                                <p className="text-sm text-gray-300">{service.desc}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                <div className="mt-8">
                                    <h3 className="text-sm text-gray-300 font-bold mb-4 uppercase tracking-wider flex items-center gap-2">
                                        <span className="w-2 h-2 bg-white rounded-full inline-block"></span>
                                        é™„åŠ é¸é … Add-ons
                                    </h3>
                                    <div className="flex flex-wrap gap-3">
                                        {addons.map((addon) => (
                                            <button
                                                key={addon.id}
                                                onClick={() => toggleSelection('addons', addon.name)}
                                                className={`px-5 py-3 rounded-full text-sm font-medium border-2 transition-all
                                                    ${formData.addons.includes(addon.name)
                                                        ? 'bg-white text-black border-white shadow-[0_0_10px_rgba(255,255,255,0.3)]'
                                                        : 'bg-transparent text-gray-300 border-gray-600 hover:border-gray-400'}`}
                                            >
                                                + {addon.name}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                <button 
                                    onClick={handleNext}
                                    disabled={formData.serviceType.length === 0}
                                    className="w-full mt-10 bg-white text-black py-4 rounded-xl font-bold text-lg hover:bg-gray-200 transition-colors disabled:opacity-40 disabled:cursor-not-allowed shadow-[0_5px_15px_rgba(255,255,255,0.1)]"
                                >
                                    ä¸‹ä¸€æ­¥ï¼šé¸æ“‡è»Šå‹èˆ‡æ™‚é–“ â†’
                                </button>
                            </div>
                        )}

                        {/* Step 2 */}
                        {step === 2 && (
                            <div className="space-y-8 fade-in">
                                <h2 className="text-xl font-bold border-l-4 border-white pl-4 text-white">è»Šå‹èˆ‡é ç´„æ™‚é–“</h2>

                                <div className="space-y-4">
                                    <label className="block text-gray-300 text-sm font-bold">æ‚¨çš„æ„›è»Šç¨®é¡</label>
                                    <div className="grid grid-cols-2 gap-3">
                                        {carTypes.map((type) => (
                                            <button
                                                key={type}
                                                onClick={() => setFormData({...formData, carType: type})}
                                                className={`p-4 text-sm font-medium rounded-lg border-2 text-left transition-all
                                                    ${formData.carType === type 
                                                        ? 'border-white bg-white/10 text-white shadow-[0_0_10px_rgba(255,255,255,0.1)]' 
                                                        : 'border-gray-600 text-gray-300 hover:border-gray-400 bg-[#1e1e1e]'}`}
                                            >
                                                {type}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label className="block text-gray-300 text-sm font-bold mb-3">é ç´„æ—¥æœŸ</label>
                                        <input 
                                            type="date" 
                                            className="w-full bg-[#1e1e1e] border-2 border-gray-600 rounded-xl p-4 text-white focus:border-white outline-none cursor-pointer appearance-none"
                                            onChange={(e) => setFormData({...formData, date: e.target.value})}
                                            onClick={(e) => e.target.showPicker && e.target.showPicker()} 
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-gray-300 text-sm font-bold mb-3">é ç´„æ™‚æ®µ (1å°æ™‚/å–®ä½)</label>
                                        <select 
                                            className="w-full bg-[#1e1e1e] border-2 border-gray-600 rounded-xl p-4 text-white focus:border-white outline-none appearance-none cursor-pointer"
                                            onChange={(e) => setFormData({...formData, time: e.target.value})}
                                            value={formData.time}
                                        >
                                            <option value="">è«‹é¸æ“‡æ™‚æ®µ</option>
                                            {timeSlots.map(time => (
                                                <option key={time} value={time}>{time}</option>
                                            ))}
                                        </select>
                                    </div>
                                </div>
                                
                                <div className="pt-6 flex gap-4">
                                    <button onClick={handleBack} className="w-1/3 py-4 rounded-xl border-2 border-gray-600 text-gray-300 hover:border-gray-400 font-bold">å›ä¸Šä¸€æ­¥</button>
                                    <button 
                                        onClick={handleNext}
                                        disabled={!formData.carType || !formData.date || !formData.time}
                                        className="w-2/3 bg-white text-black py-4 rounded-xl font-bold text-lg hover:bg-gray-200 disabled:opacity-40 shadow-[0_5px_15px_rgba(255,255,255,0.1)]"
                                    >
                                        ä¸‹ä¸€æ­¥ï¼šç¢ºèªè³‡è¨Š
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Step 3 */}
                        {step === 3 && (
                            <div className="space-y-6 fade-in">
                                <h2 className="text-xl font-bold border-l-4 border-white pl-4 text-white">é ç´„å–®ç¢ºèª</h2>
                                
                                <div className="bg-[#1e1e1e] p-6 rounded-2xl border-2 border-gray-700 space-y-5">
                                    <div className="flex justify-between items-center border-b border-gray-700 pb-4">
                                        <span className="text-gray-400">è»Šå‹</span>
                                        <span className="font-bold text-xl text-white">{formData.carType}</span>
                                    </div>
                                    <div className="flex justify-between items-center border-b border-gray-700 pb-4">
                                        <span className="text-gray-400">é ç´„æ™‚é–“</span>
                                        <span className="font-bold text-lg text-white">{formData.date} <span className="text-yellow-400 mx-1">|</span> {formData.time}</span>
                                    </div>
                                    <div>
                                        <span className="text-gray-400 block mb-3">æœå‹™é …ç›®</span>
                                        <div className="flex flex-wrap gap-2">
                                            {formData.serviceType.map(s => <span key={s} className="bg-white text-black px-3 py-1 rounded-lg font-bold text-sm">{s}</span>)}
                                            {formData.addons.map(a => <span key={a} className="border border-white/50 px-3 py-1 rounded-lg text-sm text-gray-200">+ {a}</span>)}
                                        </div>
                                    </div>
                                    
                                    <div className="pt-2">
                                        <label className="block text-gray-300 text-sm font-bold mb-2">æ‚¨çš„ç¨±å‘¼ (é¸å¡«)</label>
                                        <input 
                                            type="text" 
                                            placeholder="ä¾‹å¦‚ï¼šé™³å…ˆç”Ÿ"
                                            className="w-full bg-black border-2 border-gray-600 rounded-xl p-3 text-white focus:border-white outline-none"
                                            onChange={(e) => setFormData({...formData, name: e.target.value})}
                                        />
                                    </div>
                                </div>

                                <div className="bg-green-900/30 border border-green-700/50 p-4 rounded-xl text-sm text-green-300 flex gap-3 items-start">
                                    <div className="mt-0.5 text-lg">ğŸ’¡</div>
                                    <p>ç³»çµ±å°‡è‡ªå‹•è¤‡è£½æ‚¨çš„é ç´„å–®ã€‚é»æ“Šå¾Œè«‹åœ¨ LINE å°è©±æ¡† <span className="text-white font-bold underline">é•·æŒ‰è²¼ä¸Š</span> å³å¯ã€‚</p>
                                </div>

                                <div className="flex gap-4 pt-2">
                                    <button onClick={handleBack} className="w-1/3 py-4 rounded-xl border-2 border-gray-600 text-gray-300 hover:border-gray-400 font-bold">ä¿®æ”¹</button>
                                    <button 
                                        onClick={handleLineSubmit}
                                        className="w-2/3 bg-[#00B900] text-white py-4 rounded-xl font-bold text-lg hover:bg-[#009900] transition-colors shadow-[0_0_25px_rgba(0,185,0,0.4)] flex justify-center items-center gap-2"
                                    >
                                        è¯ç¹« LINE é ç´„
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TDSBookingSystem />);
    </script>
</body>
</html>